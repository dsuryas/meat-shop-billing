const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CloseDayModal-BLXhqMRo.js","assets/index-BIXGV2mp.js","assets/index-5cHeen7e.css","assets/index-w-eSnYTo.js"])))=>i.map(i=>d[i]);
import{f as m,R as b,_ as w,r as n,h as k,j as e,C as E,b as _,c as B,d as S,e as R,I as L,B as I,s as M}from"./index-BIXGV2mp.js";import{C as A}from"./calendar-B9_GvuiQ.js";/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],T=m("ChartPie",F);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],P=m("TrendingUp",z),O=b.lazy(()=>w(()=>import("./CloseDayModal-BLXhqMRo.js"),__vite__mapDeps([0,1,2,3]))),V=({dailySetup:t,onStartNewDay:p,currentStock:h,remainingBirds:j,currentEarnings:u,estimatedEarnings:g,totalDiscounts:N})=>{const[s,c]=n.useState(null),[U,r]=n.useState(!1),[i,f]=n.useState(new Date().toISOString().split("T")[0]),[v,d]=n.useState(!1);n.useEffect(()=>{if(!(t!=null&&t.date))return;const a=k();if(a&&a.length>0){const o=new Date(t.date).toDateString(),x=a.find(y=>new Date(y.date).toDateString()===o);x?(r(!0),c(x)):(r(!1),c(null))}},[t==null?void 0:t.date]);const D=async a=>{await M(a)&&(c(a),r(!0)),d(!1)},C=a=>{p(a),r(!1),c(null)},l=a=>`â‚¹${Number(a).toFixed(2)}`;return e.jsxs("div",{className:"space-y-6",children:[s?e.jsx("div",{className:"space-y-6",children:e.jsxs(E,{children:[e.jsxs(_,{children:[e.jsx(B,{children:"Daily Report"}),e.jsxs(S,{children:["Summary for ",new Date(s.date).toLocaleDateString()]})]}),e.jsxs(R,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{className:"h-5 w-5 text-blue-500"}),e.jsx("h3",{className:"font-semibold text-blue-700",children:"Stock Overview"})]}),e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsxs("p",{children:["Expected Stock:"," ",Number(s.expectedStock||0).toFixed(2)," kg"]}),e.jsxs("p",{children:["Actual Stock:"," ",Number(s.actualStock||0).toFixed(2)," kg"]}),e.jsxs("p",{children:["Weight Loss:"," ",Number(s.weightLoss||0).toFixed(2)," kg"]})]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{className:"h-5 w-5 text-green-500"}),e.jsx("h3",{className:"font-semibold text-green-700",children:"Bird Count"})]}),e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsxs("p",{children:["Expected Birds: ",s.expectedBirds||0]}),e.jsxs("p",{children:["Actual Birds: ",s.actualBirds||0]}),e.jsxs("p",{children:["Bird Loss:"," ",(s.expectedBirds||0)-(s.actualBirds||0)]})]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg col-span-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(A,{className:"h-5 w-5 text-purple-500"}),e.jsx("h3",{className:"font-semibold text-purple-700",children:"Financial Summary"})]}),e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsxs("p",{children:["Estimated:"," ",l(s.estimatedEarnings||0)]}),e.jsxs("p",{children:["Actual: ",l(s.actualEarnings||0)]}),e.jsxs("p",{children:["Discounts: ",l(s.totalDiscounts||0)]}),e.jsxs("p",{children:["Expenses: ",l(s.expenses||0)]}),e.jsx("div",{className:"border-t border-purple-200 mt-2 pt-2",children:e.jsxs("p",{className:"font-semibold",children:["Net Earnings:"," ",l(s.netEarnings||0)]})})]}),s.expenseNotes&&e.jsxs("div",{className:"mt-2 text-sm text-purple-600",children:[e.jsx("p",{className:"font-medium",children:"Expense Notes:"}),e.jsx("p",{children:s.expenseNotes})]})]})]}),e.jsxs("div",{className:"mt-6 border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Start New Day"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(L,{type:"date",value:i,onChange:a=>f(a.target.value),className:"flex-1"}),e.jsx(I,{onClick:()=>C(i),children:"Start New Day"})]})]})]})]})}):null,v&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsx(n.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(O,{dailySetup:t,currentStock:h,expectedBirds:j,currentEarnings:u,estimatedEarnings:g,totalDiscounts:N,onClose:()=>d(!1),onConfirm:D})})})})]})};export{V as default};
