import{f as w,r as l,j as e,B as d,C as f,b,c as A,d as C,e as N,I as h,A as S,a as k}from"./index-BIXGV2mp.js";import{P as E}from"./plus-BtxWQIIS.js";import{P as I}from"./pencil-BX-FVGDB.js";/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],F=w("X",D),R=()=>{const[n,u]=l.useState([]),[p,x]=l.useState(!1),[i,o]=l.useState(null),[g,j]=l.useState(""),[t,c]=l.useState({name:"",retailPrice:"",wholesalePrice:"",isActive:!0});l.useEffect(()=>{const s=localStorage.getItem("meatShop_products");s&&u(JSON.parse(s))},[]);const m=s=>{localStorage.setItem("meatShop_products",JSON.stringify(s)),u(s)},P=s=>{if(s.preventDefault(),i){const r=n.map(a=>a.id===i.id?{...t,id:i.id}:a);m(r),o(null)}else{const r=[...n,{...t,id:Date.now(),createdAt:new Date().toISOString()}];m(r)}c({name:"",retailPrice:"",wholesalePrice:"",isActive:!0}),x(!1),j(i?"Product updated successfully!":"Product added successfully!"),setTimeout(()=>j(""),3e3)},y=s=>{o(s),c({name:s.name,retailPrice:s.retailPrice,wholesalePrice:s.wholesalePrice,isActive:s.isActive}),x(!0)},v=s=>{const r=n.map(a=>a.id===s?{...a,isActive:!a.isActive}:a);m(r)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Product Management"}),!p&&e.jsxs(d,{onClick:()=>x(!0),children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Add New Product"]})]}),p&&e.jsxs(f,{children:[e.jsxs(b,{children:[e.jsx(A,{children:i?"Edit Product":"Add New Product"}),e.jsx(C,{children:"Enter product details"})]}),e.jsx(N,{children:e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Product Name"}),e.jsx(h,{value:t.name,onChange:s=>c({...t,name:s.target.value}),placeholder:"e.g., Country Chicken"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Retail Price (₹/kg)"}),e.jsx(h,{type:"number",step:"0.01",value:t.retailPrice,onChange:s=>c({...t,retailPrice:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Wholesale Price (₹/kg)"}),e.jsx(h,{type:"number",step:"0.01",value:t.wholesalePrice,onChange:s=>c({...t,wholesalePrice:s.target.value})})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(d,{type:"submit",className:"flex-1",children:i?"Update Product":"Add Product"}),e.jsx(d,{type:"button",variant:"outline",onClick:()=>{x(!1),o(null),c({name:"",retailPrice:"",wholesalePrice:"",isActive:!0})},className:"flex-1",children:"Cancel"})]})]})})]}),g&&e.jsx(S,{children:e.jsx(k,{children:g})}),e.jsx(f,{children:e.jsx(N,{className:"pt-6",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Retail Price"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wholesale Price"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.name}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["₹",Number(s.retailPrice).toFixed(2)]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["₹",Number(s.wholesalePrice).toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                          ${s.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.isActive?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(d,{variant:"ghost",size:"sm",onClick:()=>y(s),children:e.jsx(I,{className:"h-4 w-4"})}),e.jsx(d,{variant:"ghost",size:"sm",onClick:()=>v(s.id),children:e.jsx(F,{className:"h-4 w-4"})})]})})]},s.id))})]})})})})]})};export{R as default};
