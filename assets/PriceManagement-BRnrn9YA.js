import{r as n,j as e,B as h,A as w,a as P,C as y,b as g,c as j,d as k,e as N,I as i}from"./index-BIXGV2mp.js";import{P as b}from"./plus-BtxWQIIS.js";const R=()=>e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paper Rate"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shop Rate"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Live Chicken"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"With Skin"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Chopped"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Country Chicken"})]})}),O=()=>{const[f,d]=n.useState(!1),[a,p]=n.useState({paperRate:"",retailRate:"",productPrices:{liveChicken:"",chickenWithSkin:"",choppedChicken:"",countryChicken:""}}),[o,x]=n.useState([]),[m,u]=n.useState("");n.useEffect(()=>{const t=localStorage.getItem("meatShop_priceHistory");t&&x(JSON.parse(t))},[]);const l=(t,s,c=!1)=>{p(r=>({...r,...c?{productPrices:{...r.productPrices,[t]:s}}:{[t]:s}}))},C=t=>{t.preventDefault();const c=[{...a,date:new Date().toISOString()},...o];localStorage.setItem("meatShop_priceHistory",JSON.stringify(c)),x(c);const r=localStorage.getItem("meatShop_dailySetup");if(r){const S={...JSON.parse(r),...a};localStorage.setItem("meatShop_dailySetup",JSON.stringify(S))}u("Prices added successfully!"),d(!1),p({paperRate:"",retailRate:"",productPrices:{liveChicken:"",chickenWithSkin:"",choppedChicken:"",countryChicken:""}}),setTimeout(()=>u(""),3e3)},v=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(h,{onClick:()=>d(!0),children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Add Today's Price"]}),m&&e.jsx(w,{className:"w-auto",children:e.jsx(P,{children:m})})]}),f&&e.jsxs(y,{children:[e.jsxs(g,{children:[e.jsx(j,{children:"Add Today's Prices"}),e.jsx(k,{children:"Enter new pricing details"})]}),e.jsx(N,{children:e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Paper Rate (₹/kg)"}),e.jsx(i,{type:"number",step:"0.01",value:a.paperRate,onChange:t=>l("paperRate",t.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Shop Rate (₹/kg)"}),e.jsx(i,{type:"number",step:"0.01",value:a.productPrices.choppedChicken,onChange:t=>{const s=t.target.value;p(c=>({...c,retailRate:s,productPrices:{...c.productPrices,choppedChicken:s}}))},className:"mt-1"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Live Chicken (₹/kg)"}),e.jsx(i,{type:"number",step:"0.01",value:a.productPrices.liveChicken,onChange:t=>l("liveChicken",t.target.value,!0),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Chicken with Skin (₹/kg)"}),e.jsx(i,{type:"number",step:"0.01",value:a.productPrices.chickenWithSkin,onChange:t=>l("chickenWithSkin",t.target.value,!0),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Chopped Chicken (₹/kg)"}),e.jsx(i,{type:"number",step:"0.01",value:a.productPrices.choppedChicken,className:"mt-1 bg-gray-50",readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Country Chicken (₹/kg)"}),e.jsx(i,{type:"number",step:"0.01",value:a.productPrices.countryChicken,onChange:t=>l("countryChicken",t.target.value,!0),className:"mt-1"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(h,{type:"submit",className:"flex-1",children:"Save Prices"}),e.jsx(h,{type:"button",variant:"outline",onClick:()=>d(!1),className:"flex-1",children:"Cancel"})]})]})})]}),e.jsxs(y,{children:[e.jsxs(g,{children:[e.jsx(j,{children:"Price History"}),e.jsx(k,{children:"Historical record of all price changes"})]}),e.jsx(N,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx(R,{}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map((t,s)=>e.jsxs("tr",{className:s===0?"bg-blue-50":"",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v(t.date)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["₹",t.paperRate]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["₹",t.productPrices.choppedChicken]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["₹",t.productPrices.liveChicken]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["₹",t.productPrices.chickenWithSkin]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["₹",t.productPrices.choppedChicken]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["₹",t.productPrices.countryChicken]})]},s))})]})})})]})]})};export{O as default};
