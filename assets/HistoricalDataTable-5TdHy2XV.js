import{f as j,r as l,h as w,j as e,C as o,b as m,c as h,e as g,B as i}from"./index-BIXGV2mp.js";import{C}from"./chevron-right-CqxYL6G7.js";import{C as b}from"./calendar-B9_GvuiQ.js";import{S as k}from"./shopping-bag-CVKbpGnu.js";/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],P=j("ChevronLeft",S);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],z=j("DollarSign",L),T=({onViewDay:p})=>{const[n,u]=l.useState([]),[t,N]=l.useState(0),[a,v]=l.useState(0),c=5;l.useEffect(()=>{f()},[]);const f=async()=>{const s=await w();u(s||[]),v(Math.ceil(((s==null?void 0:s.length)||0)/c))},r=s=>{s>=0&&s<a&&N(s)},y=()=>{const s=t*c,d=s+c;return n.slice(s,d)},x=s=>`₹${Number(s).toFixed(2)}`;return n.length===0?e.jsxs(o,{children:[e.jsx(m,{children:e.jsx(h,{children:"Historical Data"})}),e.jsx(g,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No historical data available yet. Close a day to see records here."})})]}):e.jsxs(o,{children:[e.jsx(m,{children:e.jsxs(h,{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Historical Data"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(i,{variant:"outline",size:"sm",onClick:()=>r(t-1),disabled:t===0,children:e.jsx(P,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-gray-700",children:["Page ",t+1," of ",a]}),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>r(t+1),disabled:t===a-1,children:e.jsx(C,{className:"h-4 w-4"})})]})]})}),e.jsxs(g,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock Information"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weight Loss"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y().map((s,d)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{className:"mr-2 h-4 w-4 text-blue-500"}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Date(s.date).toLocaleDateString()})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(s.date).toLocaleTimeString()})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"mr-2 h-4 w-4 text-green-500"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm text-gray-900",children:["Initial: ",Number(s.expectedStock).toFixed(2),"kg"]}),e.jsxs("div",{className:"text-sm text-gray-900",children:["Final: ",Number(s.actualStock).toFixed(2),"kg"]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Birds: ",s.expectedBirds," → ",s.actualBirds]})]})]})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(z,{className:"mr-2 h-4 w-4 text-purple-500"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm text-gray-900",children:["Est: ",x(s.estimatedEarnings)]}),e.jsxs("div",{className:"text-sm text-gray-900",children:["Act: ",x(s.actualEarnings)]}),e.jsxs("div",{className:"text-sm font-medium text-green-600 mt-1",children:["Net: ",x(s.netEarnings)]})]})]})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[Number(s.weightLoss).toFixed(2),"kg"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["(",Number(s.weightLossPercentage).toFixed(2),"%)"]})]})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx(i,{variant:"outline",size:"sm",onClick:()=>p(s),children:"View Details"})})]},d))})]})}),e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",Math.min(n.length,t*c+1)," to ",Math.min(n.length,(t+1)*c)," of"," ",n.length," entries"]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(i,{variant:"outline",size:"sm",onClick:()=>r(0),disabled:t===0,children:"First"}),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>r(t-1),disabled:t===0,children:"Previous"}),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>r(t+1),disabled:t===a-1,children:"Next"}),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>r(a-1),disabled:t===a-1,children:"Last"})]})]})]})]})};export{T as default};
